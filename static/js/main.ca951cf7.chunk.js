(this["webpackJsonplearncool-todo"]=this["webpackJsonplearncool-todo"]||[]).push([[0],{101:function(e,t,n){e.exports=n(175)},109:function(e,t,n){},169:function(e,t,n){},170:function(e,t,n){},175:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n.n(a),l=n(33),c=n.n(l),o=(n(106),n(107),n(108),n(99)),i=n(25),u=n(177),m=n(178),s=n(184),d=n(179),E=n(180),h=(n(109),function(e){var t=Object(a.useState)(!1),n=Object(i.a)(t,1)[0];return r.a.createElement("div",null,r.a.createElement(u.a,{color:"light",light:!0,expand:"md"},r.a.createElement(m.a,{className:"brand"},"Learncool"),r.a.createElement(s.a,{isOpen:n,navbar:!0},r.a.createElement(d.a,{className:"mr-auto",navbar:!0}),r.a.createElement(E.a,{className:"pr-5"},r.a.createElement("h4",null,"Task Scheduler")))))}),b=n(39),f=n(32);function p(){var e=Object(b.a)(["\nmutation insert_Todo($Description: String!, $Title: String!, $StartTime: timestamptz!, $EndTime:timestamptz!) {\n  insert_Todo(objects: {Description: $Description, Title: $Title, EndTime: $EndTime, StartTime: $StartTime}) {\n    returning {\n      Description\n      Title\n      DoneStatus\n      date\n      EndTime\n      StartTime\n    }\n  }\n}\n\n"]);return p=function(){return e},e}function T(){var e=Object(b.a)(["\nmutation toggleTodo($id: uuid!, $DoneStatus: String!) {\n    update_Todo(where: {id: {_eq: $id}}, _set: {DoneStatus: $DoneStatus}) {\n      returning {\n        Description\n        DoneStatus\n        Title\n        date\n        id\n        EndTime\n        StartTime\n      }\n    }\n  }\n"]);return T=function(){return e},e}var g=Object(f.b)(T()),v=Object(f.b)(p());function S(){var e=Object(b.a)(['\nquery MyQuery {\n  Todo (where: {DoneStatus: {_eq: "false"}}) {\n    Description\n    EndTime\n    StartTime\n    Title\n    id\n    DoneStatus\n  }\n}\n']);return S=function(){return e},e}var j=Object(f.b)(S()),y=n(31),O=n(93),D=n.n(O),N=n(181),w=n(182),P=n(183),k=function(){var e=Object(y.useQuery)(j),t=e.data,n=e.loading,a=e.error,l=Object(y.useMutation)(g),c=Object(i.a)(l,1)[0];if(n)return r.a.createElement("div",null,r.a.createElement("h5",null,"Please wait while we load the scheduled tasks."),r.a.createElement(D.a,{type:"Rings",color:"#20b2aa",height:100,width:100}));if(a)return r.a.createElement("div",null,"Something went wrong . . . . . .");function o(e){var t=e.id,n=e.DoneStatus;c({variables:{id:t,DoneStatus:n="false"===n?"true":"false"}}).then((function(e){console.log("Todo updated, ",e),window.location.reload(!1)})).catch((function(e){console.log("Error in Toggle function, ",e)}))}return r.a.createElement("div",{className:"text-left"},0===t.Todo.length?r.a.createElement("h1",{className:"text-center"},"No Tasks scheduled yet."):t.Todo.map((function(e){var t=e.StartTime.substring(0,10),n=e.StartTime.substring(12,19),a=e.EndTime.substring(0,10),l=e.EndTime.substring(12,19),c="".concat(n,", ").concat(t),i="".concat(l,", ").concat(a);return r.a.createElement("div",{className:"todo",key:e.id},r.a.createElement(N.a,null,r.a.createElement(w.a,null,r.a.createElement(P.a,{sm:4,xl:1,className:"close1"},r.a.createElement("i",{"aria-hidden":"true",className:"close link icon",onClick:function(){return o(e)}})),r.a.createElement(P.a,{sm:8,xl:11,className:"desc"},r.a.createElement("strong",null,"Title: "),e.Title,r.a.createElement("br",null),r.a.createElement("strong",null,"Description: "),e.Description,r.a.createElement("br",null),r.a.createElement("span",{className:"time"},c," to ",i),r.a.createElement("br",null)),r.a.createElement(P.a,{sm:4,xl:1,className:"close2"},r.a.createElement("i",{"aria-hidden":"true",class:"close link icon",onClick:function(){return o(e)}})))))})))},$=n(61),x=n.n($),C=(n(169),n(95)),q=n(96),M=n(100),_=n(98),A=(n(170),function(e){Object(M.a)(n,e);var t=Object(_.a)(n);function n(){return Object(C.a)(this,n),t.apply(this,arguments)}return Object(q.a)(n,[{key:"render",value:function(){return r.a.createElement(N.a,{className:"themed-container footer bg-dark text-center",fluid:!0},"\xa9 Learncool Pvt. Ltd.")}}]),n}(a.Component)),L=function(){var e=Object(y.useMutation)(v),t=Object(i.a)(e,1)[0],n=Object(a.useState)(new Date),l=Object(i.a)(n,2),c=l[0],o=l[1],u=Object(a.useState)(new Date),m=Object(i.a)(u,2),s=m[0],d=m[1],E=r.a.useState(""),b=Object(i.a)(E,2),f=b[0],p=b[1],T=r.a.useState(""),g=Object(i.a)(T,2),S=g[0],O=g[1];return r.a.createElement("div",null,r.a.createElement(h,null),r.a.createElement(N.a,{className:"text-center"},r.a.createElement("h2",{className:"mt-4"},"Add a Todo"),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),(S.trim()||f.trim())&&t({variables:{Title:S,Description:f,StartTime:c,EndTime:s},refetchQueries:[{query:j}]}).then((function(){alert("Todo Added"),p(""),O("")}))},className:"form"},r.a.createElement("input",{className:"field",type:"text",placeholder:"Enter the Title",onChange:function(e){return O(e.target.value)},value:S,required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("input",{className:"field",type:"text",placeholder:"description",onChange:function(e){return p(e.target.value)},value:f,required:!0}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"Start Time: \u2002"),r.a.createElement(x.a,{onChange:o,value:c,format:"dd-MM-y h:mm:ss a",yearPlaceholder:"yy",monthPlaceholder:"mm",dayPlaceholder:"dd",hourPlaceholder:"hr",minutePlaceholder:"min",secondPlaceholder:"ss"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("label",null,"End Time: \u2002"),r.a.createElement(x.a,{onChange:d,value:s,format:"dd-MM-y h:mm:ss a",yearPlaceholder:"yy",monthPlaceholder:"mm",dayPlaceholder:"dd",hourPlaceholder:"hr",minutePlaceholder:"min",secondPlaceholder:"ss"}),r.a.createElement("br",null),r.a.createElement("br",null),r.a.createElement("button",{type:"submit",className:"btn"},"Create a Todo"),r.a.createElement("br",null),r.a.createElement("br",null)),r.a.createElement(k,null)),r.a.createElement(A,null))};var Q=function(){return r.a.createElement(o.a,null,r.a.createElement("div",{className:"App"},r.a.createElement(L,null)))},z=new f.a({uri:"https://knowing-akita-91.hasura.app/v1/graphql"});c.a.render(r.a.createElement(y.ApolloProvider,{client:z},r.a.createElement(Q,null)),document.getElementById("root"))}},[[101,1,2]]]);
//# sourceMappingURL=main.ca951cf7.chunk.js.map